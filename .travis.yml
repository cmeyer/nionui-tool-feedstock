# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yml and/or the recipe/meta.yaml.

language: generic

env:
  global:
    # The BINSTAR_TOKEN secure variable. This is defined canonically in conda-forge.yml.
    - secure: "LxOTz7fyiR61NAYJYsiaCrHs7mwtM6a55RsaGM6wvoQqTHyTe/V0uDIQjFnwk5TDHgIyVVSy9S1Y1FJ6kDVZy1htKviW3SphbifulZxUjQS60WAvI6f3bTRKem7Ld7TOsYaUJOAalkC8cf8hZOo/kt3N0EHrnqJ6t8H3HysDeSfSmrQZL8HngJgepPJkt5cJgR398u5XH+KOfjrn1/e0vQXkxZdvrGjH4fgrWj6TKlWbttEtvK43oARxldnBV5lR5QpBCCZzYQSR1Xncw41TOJHWNScPBO9VN0v6hyplk6e/yKl+sloFGS018uKleprcrOuW6mt7DmHO4XC3hwRbiwTgz5gN5w3HE6mot6oBTK7+k19X83pEVCK0RCB4kndsdEjTmhjGpmUMqNTG3kUrysKCA/jWL/udu2pvhwLnVg8J9JNLkTxVFDeZU5MCZLKbg3VIT1rmmDFIIAib1xV/Gg5Ev1kKRpxBQrHOi9x5XIni66QDIunt4noB8TPuHIk6kOeqXtdandBOfuEPC47Dl42LyvpzxnvoVEpCdtYcNY6NudlRLQMRa5G6gohZQnL5uPWZCI0dtKnrpeZ5DqKU6O8Xgg5ssCVmCr15K86SkLLgUR2BxQjogPQgOyw3sX1CxZBuG3wGdColEwM5venFh0tDh0ugIs6mag724sx3AFI="

matrix:
  include:
    - env: CONFIG=linux_python3.6 UPLOAD_PACKAGES=True PLATFORM=linux-64 DOCKER_IMAGE=condaforge/linux-anvil-comp7
      os: linux
      arch: amd64

    - env: CONFIG=linux_python3.7 UPLOAD_PACKAGES=True PLATFORM=linux-64 DOCKER_IMAGE=condaforge/linux-anvil-comp7
      os: linux
      arch: amd64

    - env: CONFIG=osx_python3.6 UPLOAD_PACKAGES=True PLATFORM=osx-64
      os: osx
      osx_image: xcode9.4

    - env: CONFIG=osx_python3.7 UPLOAD_PACKAGES=True PLATFORM=osx-64
      os: osx
      osx_image: xcode9.4

script:
  - export CI=travis
  - export GIT_BRANCH="$TRAVIS_BRANCH"

  - if [[ ${PLATFORM} =~ .*osx.* ]]; then ./.travis/run_osx_build.sh; fi

  - if [[ ${PLATFORM} =~ .*linux.* ]]; then ./.scripts/run_docker_build.sh; fi