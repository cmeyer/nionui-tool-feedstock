# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yml and/or the recipe/meta.yaml.

language: generic

env:
  global:
    # The BINSTAR_TOKEN secure variable. This is defined canonically in conda-forge.yml.
    - secure: "k4FsXPaTOyNffAxS2dCWISmIbfOG0DvtP1MdBz8aS58amRBWedrCuvf9RcdVPwQk0vf76928l4lc0ZswHQ1YtZ4kY18++3p3tF0t7Xg4zhDxaRc7UEGYn5rydLQhreF3oLWLR9Urx1sXWZQKt65LRgTpkk7QgAgxF3/OuIARUDCu8o4OOtp/R6U4ciXfl6xHj7X+Tg8GktCnaRJxtVqsXGvkBFHMVynlpfQExB4tdyftDGYIklSN5sekJBNsimgEtaFlpWj1izYYwC5P8JwOWX8byGudf+rMWfEp/4wjL1giHNSyPQa4D+/LQ8E/0YwBdNHSnNFg23GYslNkS+sgRmXfMganf5RGXsksIQWP1GzFU+LyoMLDlplr+oYtAQIidtWs3FbngA4YZAnjn750eefFOA47RxZnvgBPW4D8OSxX6GbUFOpikGv2fzOAOKm5aRcF0Exwx95TQ4ORouNvisTJxAwLZeq9z0EjgG4/Yvz2p07gtrNSOCQNHhmx/9K5Sj0eb5wFWKUmPsjCsrdvdrz6hAlQw0fG04P0TGC+jBpPMjjPhaglmpHS2JUz50oDuQew8JNAyB752aGNGe17OW2VAFqMrhFxqJPd8Y1xCsS2UGL2KQhjvpKwuZjM2l29U39Yh+IvXGQ0DQaBtukHTKGrZaHPLURQsb/vF3lid+o="

matrix:
  include:
    - env: CONFIG=linux_python3.6 UPLOAD_PACKAGES=True PLATFORM=linux-64 DOCKER_IMAGE=condaforge/linux-anvil-comp7
      os: linux
      arch: amd64

    - env: CONFIG=linux_python3.7 UPLOAD_PACKAGES=True PLATFORM=linux-64 DOCKER_IMAGE=condaforge/linux-anvil-comp7
      os: linux
      arch: amd64

    - env: CONFIG=osx_python3.6 UPLOAD_PACKAGES=True PLATFORM=osx-64
      os: osx
      osx_image: xcode9.4

    - env: CONFIG=osx_python3.7 UPLOAD_PACKAGES=True PLATFORM=osx-64
      os: osx
      osx_image: xcode9.4

script:
  - export CI=travis
  - export GIT_BRANCH="$TRAVIS_BRANCH"

  - if [[ ${PLATFORM} =~ .*osx.* ]]; then ./.travis/run_osx_build.sh; fi

  - if [[ ${PLATFORM} =~ .*linux.* ]]; then ./.scripts/run_docker_build.sh; fi